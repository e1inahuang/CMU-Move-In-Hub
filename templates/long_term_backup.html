{% extends "base.html" %}
{% from "macros.html" import pagination_controls %}

{% block title %}Long-Term Housing{% endblock %}

{% block styles %}
<style>
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid black;
        padding: 8px;
        text-align: left;
    }
    th {
        background-color: #f2f2f2;
    }
</style>
{% endblock %}

{% block content %}
<h1>Long-Term Housing Options</h1>
<table class="ui celled striped table">
    <thead>
        <tr>
            <th>Apartment Name</th>
            <th>Address</th>
            <th>City</th>
            <th>Zip Code</th>
            <th>Price</th>
            <th>Room</th>
            <th>Amenities</th>
            <th>Phone</th>
            <th>URL</th>
            <th>Room Type</th>
            <th>Unit Number</th>
            <th>Unit Price</th>
            <th>Unit Area</th>
            <th>Available Time</th>
        </tr>
    </thead>
    <tbody>
        {% for name, rows in apartments.items() %}
            {% for i, row in enumerate(rows) %}
            <tr>
                {% if loop.first %}
                <td rowspan="{{ rows|length }}">{{ name }}</td>
                <td rowspan="{{ rows|length }}">{{ row['Address'] }}</td>
                <td rowspan="{{ rows|length }}">{{ row['City'] }}</td>
                <td rowspan="{{ rows|length }}">{{ row['Zip Code'] }}</td>
                <td rowspan="{{ rows|length }}">{{ row['Price'] }}</td>
                <td rowspan="{{ rows|length }}">{{ row['Room'] }}</td>
                <td rowspan="{{ rows|length }}">{{ row['Amenities'] }}</td>
                <td rowspan="{{ rows|length }}">{{ row['Phone'] }}</td>
                <td rowspan="{{ rows|length }}"><a href="{{ row['URL'] }}">Link</a></td>
                {% endif %}
                <td>{{ row['Room Type'] }}</td>
                <td>{{ row['Unit Number'] }}</td>
                <td>{{ row['Unit Price'] }}</td>
                <td>{{ row['Unit Area'] }}</td>
                <td>{{ row['Available Time'] }}</td>
            </tr>
            {% endfor %}
        {% endfor %}
    </tbody>
</table>

<!-- Pagination Controls -->
{{ pagination_controls('long_term', page, num_pages) }}

{% endblock %}
